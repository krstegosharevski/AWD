<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
<script>
    /*
    You are given an array of objects representing a group of students, each with a name and an array of test scores.
    Your task is to use map, filter, and reduce to calculate the average test score for each student,
    and then return an array of objects containing only the students who have an average score above 90.

    Input:
    const students = [
        { name: "Alice", scores: [90, 85, 92] },
        { name: "Bob", scores: [75, 80, 85] },
        { name: "Charlie", scores: [90, 95, 85] },
        { name: "David", scores: [100, 100, 100] }
      ];

      Output:
      [
        { name: 'Jack', average: 100 }
      ]
     */

    //Your code starts here:
    const students = [
        {name: "Alice", scores: [90, 85, 92]},
        {name: "Bob", scores: [75, 80, 85]},
        {name: "Charlie", scores: [90, 95, 86]},
        {name: "David", scores: [100, 100, 100]},
        {name: "Krste", scores: [47, 60, 20]}
    ];


    let students_with_avg_points = students.map(obj => {
        const vkupno_score = obj.scores.reduce((vkupno,el) => {
           return vkupno+el;
        },0)
        return {name: obj.name, average: vkupno_score/obj.scores.length}
    })
    console.log(students_with_avg_points); //Test case [20p]

    let result = students_with_avg_points.filter(obj => obj.average>90);
    console.log(result); //Test case [5p]. It should only print David and Charlie.


    //The solution:
    /*
    const students_with_avg_points = students.map(student => {
        let total_p = 0;
        //eden nacin:
        for (let score of student.scores) {
            total_p +=score;
        }
        //drug nacin:
        //const total_p = obj.scores.reduce((vkupno,el) => {
        //   return vkupno+el;
        //},0)
        return {name: student.name, avg_points: total_p/student.scores.length}
    })
    console.log(students_with_avg_points); //Test case 60p

    const result = students_with_avg_points.filter(student => student.avg_points>90);
    console.log(result); //Test case 40p. It should only print David and Charlie.
  */

</script>
</body>
</html>